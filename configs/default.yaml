# configs/default.yaml

# --- å®éªŒå…ƒæ•°æ® ---
experiment:
  # å®éªŒå”¯ä¸€æ ‡è¯† (ç”¨äºåŒºåˆ†ä¸åŒçš„æµ‹è¯•æ‰¹æ¬¡)
  id: "baseline_default"
  # å®éªŒæè¿° (ç”¨äºè®°å½•å½“å‰å®éªŒçš„ç›®çš„)
  description: "åŸºå‡†é…ç½® (Qwen-Plus + é˜¿é‡ŒEmbedding + å›ºå®šåˆ‡ç‰‡)"

# --- æ¨¡å‹é…ç½® ---
model:
  # LLM æ¨¡å‹åç§° (å¯¹åº” DashScope æ¨¡å‹å)
  llm_model: "qwen-plus"
  # Embedding æ¨¡å‹åç§°
  embedding_model: "text-embedding-v4"
  # å‘é‡ç»´åº¦ (text-embedding-v4 ä¸º 1536)
  embedding_dim: 1536

# --- å­˜å‚¨é…ç½® ---
storage:
  # Qdrant æœ¬åœ°æ•°æ®åº“è·¯å¾„
  qdrant_path: "data/vectordb"
  # å‘é‡é›†åˆåç§° (æ ¸å¿ƒï¼šä¿®æ”¹æ­¤å¤„å¯å®ç°å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»)
  collection_name: "my_rag_collection"

# --- RAG ç­–ç•¥é…ç½® (æ ¸å¿ƒæ¶ˆèå®éªŒå‚æ•°) ---
rag:
  # âœ‚ï¸ åˆ‡ç‰‡ç­–ç•¥ (Chunking Strategy):
  #   - "fixed": å›ºå®š Token é•¿åº¦åˆ‡åˆ† (åŸºå‡†æ–¹æ¡ˆ, ç®€å•é«˜æ•ˆ)
  #   - "recursive": é€’å½’å­—ç¬¦åˆ‡åˆ† (LangChain/LlamaIndex é»˜è®¤, è¯­ä¹‰ä¿æŒæ›´å¥½)
  #   - "sentence": å¥å­å®Œæ•´æ€§åˆ‡åˆ† (åŸºäºæ ‡ç‚¹ç¬¦å·ä¿æŒå¥å­å®Œæ•´)
  chunking_strategy: "fixed"

  # ğŸ“ åˆ‡ç‰‡å‚æ•°
  # çˆ¶æ–‡æ¡£å—å¤§å° (ç”¨äºä¸Šä¸‹æ–‡çª—å£)
  chunk_size_parent: 1024
  # å­æ–‡æ¡£å—/å®é™…ç´¢å¼•å—å¤§å°
  chunk_size_child: 256

  # ğŸ”„ é‡å çª—å£ (Chunk Overlap)
  # å¢åŠ é‡å å¯ä»¥ç¼“è§£åˆ‡åˆ†å¤„çš„è¯­ä¹‰ä¸¢å¤±ï¼Œé€šå¸¸è®¾ä¸º chunk_size çš„ 10%-20%
  chunk_overlap: 50

  # ğŸ” æ£€ç´¢å‚æ•°
  # åˆç­›æ•°é‡ (Vector Search Top K)
  retrieval_top_k: 50
  # é‡æ’åºæ•°é‡ (Rerank Top N)
  rerank_top_k: 5

# ===== æ–°å¢æ®µï¼šRAGAS è¯„ä¼°é…ç½® =====
ragas:
  # æ˜¯å¦å¯ç”¨ RAGAS è¯„ä¼°ï¼ˆé»˜è®¤å¯ç”¨ï¼‰
  enable_evaluation: true

  # è¯„ä¼°æŒ‡æ ‡åˆ—è¡¨
  metrics:
    - "context_precision"    # æ£€ç´¢ç²¾å‡†åº¦ï¼ˆæ–‡æ¡£ç›¸å…³æ€§è´¨é‡ï¼‰
    - "context_recall"       # æ£€ç´¢å¬å›ç‡ï¼ˆground truth è¦†ç›–åº¦ï¼‰
    # å¯é€‰æŒ‡æ ‡ï¼ˆéœ€è¦ç”Ÿæˆç­”æ¡ˆï¼Œè¯„ä¼°è¾ƒæ…¢ï¼‰ï¼š
    # - "faithfulness"       # å¿ å®åº¦ï¼ˆç­”æ¡ˆæ˜¯å¦åŸºäºä¸Šä¸‹æ–‡ï¼‰
    # - "answer_relevancy"   # ç­”æ¡ˆç›¸å…³æ€§ï¼ˆç­”æ¡ˆæ˜¯å¦å›ç­”é—®é¢˜ï¼‰

  # LLM-as-judge é…ç½®
  llm_provider: "dashscope"
  llm_model: "qwen-plus"